# "Чирк". Простой блокнот на Bash

["Чирк"](chirc.sh) (альтернативные названия -- "чик", "чирик", "кря" etc.) --  очень простой скрипт "Блокнот" для текстовых заметок в csv-файл в формате:
 
    Дата;"текст заметки"
    
* Диалоговый режим
* Автоматическое добавление даты
* Заметка автоматически берётся в кавычки
* Замена символов сепаратора CSV на `\u003B` и `"` на `'`
* Заметка не более 140 символов
* Поиск через символ "/" в начале ввода.
* Удаление последней заметки через команду `:del` в начале ввода

Имя csv-файла определяется в переменной `file_csv`


## Запись заметки

После запуска скрипта последует предложение для ввода "Чиркануть:". После ввода заметки (не более 140 символов) произойдёт запись в файл (по умолчантю `mynotes.csv`) с добавлением текущей даты.

```
~$ ./chirc.sh
Кол-во заметок: 0
Чиркануть: Моя заметка 1
Записано в mynotes.csv
~$ cat mynotes.csv 
2021-06-29;"Моя заметка 1"
```
При записи в заметке для правильности фориата CSV происходит замена символов сепаратора CSV (переменная `$sep`) на `\u003B` и символа `"` на `'`

## Режим поиска

Если в начале ввода есть символ поиска "/", то введённый текст используется как подстрока для поиска в заметках через `grep` в `file_csv`. В начале каждой найденной строки выводится её номер в файле.

    номер_строки:дата;"заметка"

```
$ ./chirc.sh
Кол-во заметок: 4
Чиркануть: /заметка 3
3:2021-07-01;"Моя заметка 3"
```

## Удаление заметок

Если в начале ввода набрана команда `:del`, то будет удалена последняя заметка

```
$ ./chick.sh
Кол-во заметок: 4
Чиркануть: :del 
$ ./chick.sh
Кол-во заметок: 3
```

## Вывод заметок по номерам строк

Каждая заметка -- строка CSV. Для вывода заметок по номеру пока можно использовать стандартные утилиты Shell для вывода файла по строкам `cat-n`, `tail`, `sed`

```
# Вывод предпоследней заметки
tail -2 mynotes.csv 
2021-07-03;"Моя заметка 4"
```
```
# Вывод 4-й заметки
sed -n '4p' mynotes.csv
2021-07-03;"Моя заметка 4"
```
